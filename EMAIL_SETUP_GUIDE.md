# ๐ง ์ด๋ฉ์ผ ์๋ฒ ์ค์ ๋ฌธ์ ํด๊ฒฐ ๊ฐ์ด๋

## ๐จ ํ์ฌ ๋ฌธ์ ์ํฉ
- **์ค๋ฅ**: `535 5.7.1 Username and Password not accepted`
- **์์ธ**: ์ด๋ฉ์ผ ๋น๋ฐ๋ฒํธ ์ธ์ฆ ์คํจ
- **์ํฉ**: Production ํ๊ฒฝ์์ ์คํ ์ค์ด์ง๋ง ์ฌ๋ฐ๋ฅธ ํ๊ฒฝ๋ณ์๋ฅผ ์ฝ์ง ๋ชปํจ

## ๐ง ํด๊ฒฐ ๋จ๊ณ

### 1๋จ๊ณ: ํ๊ฒฝ๋ณ์ ํ์ผ ์์ฑ
```bash
# EC2 ์๋ฒ์์ ์คํ
cd ~/rich-way
cp env.production.example .env.production
```

### 2๋จ๊ณ: ์ด๋ฉ์ผ ๋น๋ฐ๋ฒํธ ์ค์
`.env.production` ํ์ผ์ ํธ์งํ์ฌ ์ค์ ๋ค์ด๋ฒ์์ค ์ด๋ฉ์ผ ๋น๋ฐ๋ฒํธ๋ฅผ ์ค์:

```bash
# .env.production ํ์ผ ํธ์ง
nano .env.production
```

๋ค์ ๋ผ์ธ์ ์ฐพ์ ์ค์ ๋น๋ฐ๋ฒํธ๋ก ๋ณ๊ฒฝ:
```env
VITE_EMAIL_PASSWORD_PROD=your-actual-email-password-here
```

**โ๏ธ ์ค์**: `your-actual-email-password-here` ๋ถ๋ถ์ ์ค์ ๋ค์ด๋ฒ์์ค ์ด๋ฉ์ผ ๋น๋ฐ๋ฒํธ๋ก ๋ณ๊ฒฝํด์ผ ํฉ๋๋ค.

### 3๋จ๊ณ: ์ค์ ํ์ธ
```bash
# ์ค์ ํ์คํธ ์คํฌ๋ฆฝํธ ์คํ
./scripts/test-email-config.sh
```

### 4๋จ๊ณ: ์ด๋ฉ์ผ ์๋ฒ ์ฌ์์
```bash
# ์ด๋ฉ์ผ ์๋ฒ ์ค์ง (Ctrl+C)
# ๋ค์ ์์
cd ~/rich-way/mail-server
NODE_ENV=production node email-api.js
```

## ๐ ๋ฌธ์ ์ง๋จ

### ํ๊ฒฝ๋ณ์ ํ์ธ
```bash
# ํ์ฌ ์ค์๋ ํ๊ฒฝ๋ณ์ ํ์ธ
echo $NODE_ENV
echo $VITE_EMAIL_PASSWORD_PROD
```

### ์ด๋ฉ์ผ ์๋ฒ ๋ก๊ทธ ํ์ธ
```bash
# ์ด๋ฉ์ผ ์๋ฒ ์คํ ์ ๋ค์ ์๋ณด๋ค์ด ์ถ๋ฅ๋์ด์ผ ํจ:
# - ํ๊ฒฝ: production
# - ์ด๋ฉ์ผ ์ฃผ์: rich-way@wiseinc.co.kr
# - ๋น๋ฐ๋ฒํธ ์ค์๋จ: โ
# - ํ๊ฒฝ๋ณ์ ํ์ผ: .env.production
```

## ๐ ๋ค์ด๋ฒ์์ค ์ด๋ฉ์ผ ์ค์

### SMTP ์ค์ ์๋ณด
- **์๋ฒ**: `smtp.worksmobile.com`
- **ํฌํธ**: `587`
- **๋ณด์**: `STARTTLS`
- **์ฌ์ฉ์**: `rich-way@wiseinc.co.kr`
- **๋น๋ฐ๋ฒํธ**: ๋ค์ด๋ฒ์์ค ๊ณ์ ๋น๋ฐ๋ฒํธ

### ๋ค์ด๋ฒ์์ค ๊ณ์ ํ์ธ
1. [๋ค์ด๋ฒ์์ค ๊ด๋ฆฌ์ ํ์ด์ง](https://admin.worksmobile.com) ์์
2. ์ด๋ฉ์ผ ๊ณ์ ์ค์ ํ์ธ
3. SMTP ์ธ์ฆ ์ค์ ํ์ธ
4. ๋น๋ฐ๋ฒํธ ์ฌ์ค์ (ํ์์)

## ๐ ์ฒดํฌ๋ฆฌ์คํธ

- [ ] `.env.production` ํ์ผ ์์ฑ
- [ ] `VITE_EMAIL_PASSWORD_PROD` ์ค์
- [ ] ์ค์ ๋ค์ด๋ฒ์์ค ๋น๋ฐ๋ฒํธ ์๋ฅ
- [ ] ์ด๋ฉ์ผ ์๋ฒ ์ฌ์์
- [ ] ๋ก๊ทธ์์ "๋น๋ฐ๋ฒํธ ์ค์๋จ: โ" ํ์ธ
- [ ] ์ด๋ฉ์ผ ๋ฐ์ก ํ์คํธ

## ๐ ์ถ๊ฐ ๋ฌธ์ ๋ฐ์ ์

### ๋ก๊ทธ ํ์ธ
```bash
# ์ด๋ฉ์ผ ์๋ฒ ๋ก๊ทธ ํ์ธ
tail -f ~/rich-way/mail-server/email-server.log
```

### ๋คํธ์ํฌ ์ฐ๊ฒฐ ํ์ธ
```bash
# SMTP ์๋ฒ ์ฐ๊ฒฐ ํ์คํธ
telnet smtp.worksmobile.com 587
```

### ๋ฐฉํ๋ฒฝ ์ค์ ํ์ธ
- EC2 ๋ณด์ ๊ทธ๋ฃน์์ ์์๋ฐ์ด๋ ํธ๋ํฝ ํ์ฉ
- ํฌํธ 587 ์์๋ฐ์ด๋ ํ์ฉ

## ๐ ์ง์ ์ฐ๋ฝ์ฒ

- **๋ค์ด๋ฒ์์ค**: [๊ณ๊ฐ์ผํฐ](https://help.worksmobile.com)
- **AWS EC2**: AWS ์ฝ์์์ ์ธ์คํด์ค ์ํ ํ์ธ
